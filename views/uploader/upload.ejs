<%- include('../uploaderPartials/header.ejs') %>
<<<<<<< HEAD
<!--Container Main start-->
<div class="height-100">
    <h4 class="pt-4">Upload</h4>
    <% if (messages.error.length > 0) {%>
    <div class="alert alert-danger alert-dismissible">
        <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert"></button>
        <%= messages.error%>
    </div>
    <% } %> <% if (messages.success.length > 0) {%>
    <div class="alert alert-success alert-dismissible">
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        <%= messages.success%>
    </div>
    <% } %>
    <div class="col-4 offset-3" style="background-color: #f2f2f2; padding: 20px 40px; border-radius: 10px">
        <form action="./upload" method="post" enctype="multipart/form-data" autocomplete="off">
            <div class="form-group mb-4">
                <label for="email" class="sr-only">Bank</label>
                <select name="bank" id="bank" class="form-control">
                    <% banks.forEach(bank => {%>
                    <option value="<%= bank?.name%>"><%= bank?.name%></option>
                    <% }) %>
                </select>
            </div>
            <div class="form-group mb-4">
                <label for="password" class="sr-only">Location</label>
                <select name="location" id="location" class="form-control"></select>
            </div>
            <div class="form-group mb-4">
                <label for="password" class="sr-only">Select File</label>
                <input type="file" name="upload" id="upload" class="form-control" placeholder="Upload File" />
            </div>
            <button name="login" id="login" class="btn btn-block login-btn btn-dark mb-4" type="submit">
                Upload
            </button>
        </form>
    </div>
</div>

<!--Container Main end-->
<%- include('../uploaderPartials/footer.ejs') %>

<script>
    const bankLoc = [{
            name: "First Bank Plc",
            locations: ["Lagos", "Abuja"],
        },
        {
            name: "Guarantee Trust Bank",
            locations: ["Lagos"],
        },
        {
            name: "First City Monument Bank(FCMB)",
            locations: ["Lagos", "Abuja", "PHC"],
        },
        {
            name: "Zenith Bank",
            locations: ["Lagos", "Abuja", "PHC", "Ibadan"],
        },
        {
            name: "Eco Bank",
            locations: ["Lagos", "Abuja"],
        },
        {
            name: "FIDELITY Bank",
            locations: ["Lagos"],
        },
        {
            name: "United Bank of Africa(UBA)",
            locations: ["Lagos"],
        },
    ];

    // Populate location dropdown based on selected bank
    function populateLocationDropdown(selectedBank) {
        const location = bankLoc.find((b) => b.name === selectedBank);
        const locationElement = document.getElementById("location");
        locationElement.innerHTML = "";
        location.locations.map((loc) => {
            locationElement.innerHTML += `<option value="${loc}">${loc}</option>`;
        });
    }

    // Initial population of location dropdown
    const initialSelectedBank = document.getElementById("bank").value;
    populateLocationDropdown(initialSelectedBank);

    // Add change event listener to the bank dropdown
    document.getElementById("bank").addEventListener("change", function () {
        const selectedValue = this.value;
        populateLocationDropdown(selectedValue);
    });
</script>
=======
        <!--Container Main start-->
        <div class="height-100">
            <h4 class="pt-4">Upload</h4> 
            <% if (messages.error.length > 0) {%>
                <div class="alert alert-danger alert-dismissible">
                    <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert"></button>
                    <%= messages.error%>
                </div>
                <% } %>

                <% if (messages.success.length > 0) {%>
                    <div class="alert alert-success alert-dismissible">
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        <%= messages.success%>
                    </div>
                <% } %>
            <div class="col-4 offset-3" style="background-color: #f2f2f2; padding: 20px 40px; border-radius: 10px;">
                <form action="./upload" method="post" enctype="multipart/form-data" autocomplete="off">
                    <div class="form-group mb-4">
                        <label for="email" class="sr-only">Bank</label>
                        <select name="bank" id="bank" class="form-control">
                            <% banks.forEach(bank => {%>
                                <option value="<%= bank?.name%>"><%= bank?.name%></option>
                            <% })%>
                        </select>
                    </div>
                    <div class="form-group mb-4">
                        <label for="password" class="sr-only">Location</label>
                        <select name="location" id="location" class="form-control">
                            <option value="Abuja">Abuja</option>
                            <option value="Lagos">Lagos</option>
                        </select>
                    </div>
                    <div class="form-group mb-4">
                        <label for="password" class="sr-only">Select File</label>
                        <input
                            type="file"
                            name="upload"
                            id="upload"
                            class="form-control"
                            placeholder="Upload File" />
                   
                    </div>
                    <button name="login" id="login" class="btn btn-block login-btn btn-dark mb-4" type="submit">Upload</button>
                </form>
            </div>
        </div>
      
        <!--Container Main end-->
        <script type='text/javascript'
            src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js'></script>
        <script type='text/javascript' src='#'></script>
        <script type='text/javascript' src='#'></script>
        <script type='text/javascript' src='#'></script>
        <script type='text/javascript'>document.addEventListener("DOMContentLoaded", function (event) {

                const showNavbar = (toggleId, navId, bodyId, headerId) => {
                    const toggle = document.getElementById(toggleId),
                        nav = document.getElementById(navId),
                        bodypd = document.getElementById(bodyId),
                        headerpd = document.getElementById(headerId)

                    // Validate that all variables exist
                    if (toggle && nav && bodypd && headerpd) {
                        toggle.addEventListener('click', () => {
                            // show navbar
                            nav.classList.toggle('show')
                            // change icon
                            toggle.classList.toggle('bx-x')
                            // add padding to body
                            bodypd.classList.toggle('body-pd')
                            // add padding to header
                            headerpd.classList.toggle('body-pd')
                        })
                    }
                }

                showNavbar('header-toggle', 'nav-bar', 'body-pd', 'header')

                /*===== LINK ACTIVE =====*/
                const linkColor = document.querySelectorAll('.nav_link')

                function colorLink() {
                    if (linkColor) {
                        linkColor.forEach(l => l.classList.remove('active'))
                        this.classList.add('active')
                    }
                }
                linkColor.forEach(l => l.addEventListener('click', colorLink))

                // Your code to run since DOM is loaded and ready
            });</script>
        <script type='text/javascript'>var myLink = document.querySelector('a[href="#"]');
            myLink.addEventListener('click', function (e) {
                e.preventDefault();
            });</script>

    </body>

</html>
>>>>>>> d022fc0b40e9da196236476d6a673b94118321ec
